<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-storage/volume_other">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">CSI Capabilities of Nutanix Volumes | Continuous Integration Continuous Delivery on Nutanix Lab</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://github.com/cicd_lab/storage/volume_other"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="CSI Capabilities of Nutanix Volumes | Continuous Integration Continuous Delivery on Nutanix Lab"><meta data-rh="true" name="description" content="When your stateful application is running out of storage space, you can modify the PersistentVolumeClaim to the desired size without stopping the application. The csi-resizer sidecar container watches PVCs for any volume resize request. When the PVC is resized, the csi-resizer interacts with the CSI driver to expand the underlying volume to the desired size. After the volume is resized, kubelet requests the CSI driver running on the worker node where the application is running to expand the volume and its file-system. The volume is expanded while your application continues to run."><meta data-rh="true" property="og:description" content="When your stateful application is running out of storage space, you can modify the PersistentVolumeClaim to the desired size without stopping the application. The csi-resizer sidecar container watches PVCs for any volume resize request. When the PVC is resized, the csi-resizer interacts with the CSI driver to expand the underlying volume to the desired size. After the volume is resized, kubelet requests the CSI driver running on the worker node where the application is running to expand the volume and its file-system. The volume is expanded while your application continues to run."><link data-rh="true" rel="icon" href="/cicd_lab/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/cicd_lab/storage/volume_other"><link data-rh="true" rel="alternate" href="https://github.com/cicd_lab/storage/volume_other" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/cicd_lab/storage/volume_other" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/cicd_lab/blog/rss.xml" title="Continuous Integration Continuous Delivery on Nutanix Lab RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/cicd_lab/blog/atom.xml" title="Continuous Integration Continuous Delivery on Nutanix Lab Atom Feed"><link rel="stylesheet" href="/cicd_lab/assets/css/styles.31306478.css">
<link rel="preload" href="/cicd_lab/assets/js/runtime~main.f807e0ee.js" as="script">
<link rel="preload" href="/cicd_lab/assets/js/main.0b26c359.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cicd_lab/"><div class="navbar__logo"><img src="/cicd_lab/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/cicd_lab/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">CICD on Nutanix Lab</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cicd_lab/intro">Lab: DevOps powered with Nutanix Technology</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cicd_lab/intro/Lab">Lab Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cicd_lab/what_is_calm/">Calm 101</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cicd_lab/nke/provision_nke">Nutanix Kubernetes Engine (NKE)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cicd_lab/nke_services/metallb">Install Services in Nutanix Kubernetes Engine (NKE)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cicd_lab/nexus/provision_nexus">Nexus OSS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cicd_lab/cicd/provision_env">CI/CD Environment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cicd_lab/nexus_nke/create_ns">Register Nexus to NKE cluster</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cicd_lab/jira/configure_jira">Configure JIRA</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cicd_lab/env_verify/">Environment Verification</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cicd_lab/cicd_lab/create_defect">Software Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/cicd_lab/storage/csi">Consumption of Persistent Volumes</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cicd_lab/storage/csi">Storage Concept in Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cicd_lab/storage/kubeconfig">Connect to K8S cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cicd_lab/storage/volume_pvc">Consumption of Nutanix Volumes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cicd_lab/storage/volume_other">CSI Capabilities of Nutanix Volumes</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><span class="breadcrumbs__link">Consumption of Persistent Volumes</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">CSI Capabilities of Nutanix Volumes</span><meta itemprop="position" content="2"></li></ul></nav><div class="theme-doc-markdown markdown"><h1>Expand the size of the Persistent Volume Claim</h1><p>When your stateful application is running out of storage space, you can modify the PersistentVolumeClaim to the desired size without stopping the application. The csi-resizer sidecar container watches PVCs for any volume resize request. When the PVC is resized, the csi-resizer interacts with the CSI driver to expand the underlying volume to the desired size. After the volume is resized, kubelet requests the CSI driver running on the worker node where the application is running to expand the volume and its file-system. The volume is expanded while your application continues to run.</p><ol><li><p>Run this command to expand the persistent volume.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl -n wordpress edit pvc mysql-pv-claimdemo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Change from 20 Gi to 30 Gi.  Key in wq to save the change</p><p><img loading="lazy" src="/cicd_lab/assets/images/volume14-262d4fe1d4483b5d5c010599acacfe5f.png" width="557" height="372" class="img_ev3q"></p></li><li><p>Wait around 15 to 30 seconds.  Run this command and observe the pvc volume had been expanded.</p><p><img loading="lazy" src="/cicd_lab/assets/images/volume15-3c4a0be6f0e7c9eaebd0a4dcb9eb7bc3.png" width="602" height="87" class="img_ev3q"></p></li></ol><h1>Volume Snapshot</h1><p>Use snapshots of persistent volume claims (PVCs) to create new PVCs and persistent volumes (PVs) with Nutanix Volumes only. CSI driver supports taking volume snapshots and restoring the volume. CSI driver creates a storage efficient snapshot in a second using the volumes snapshot capability. You can also create a backup of your application in Nutanix Objects, AWS S3, or any S3 compatible storage.
Taking a snapshot of a PVC lets you reuse the data in that snapshot to create a new PVC and PV in the future. The snapshot only stores data from the time you take the snapshot. The newly created snapshot appears as a VolumeSnapshot in the same Kubernetes cluster as the original PVC.</p><ol><li><p>Run this command to create a secret: ntnx-secret in kube-system namespace.  Retrieve the password of the prism element cluster from your trainer.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl -n kube-system create secret generic ntnx-secret --from-literal</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">password</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">’xxxxx’</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Create the volume-snapshot.yaml file as shown below:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: snapshot.storage.k8s.io/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: VolumeSnapshotClass</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">name: acs-abs-snapshot-class</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">driver: csi.nutanix.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">parameters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">storageType: NutanixVolumes</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">csi.storage.k8s.io/snapshotter-secret-name: ntnx-secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">csi.storage.k8s.io/snapshotter-secret-namespace: kube-system</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">deletionPolicy: Delete&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tee</span><span class="token plain"> volume-snapshot.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Run this command to create the storage class.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create -f volume-snapshot.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>This is an example of the output</p><p><img loading="lazy" src="/cicd_lab/assets/images/volume16-7f2b60cefc9436bf9238344b140a72f0.png" width="602" height="33" class="img_ev3q"></p></li><li><p>Run this command to verify the existence of the VolumeSnapshotClass</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get VolumeSnapshotClass</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>This picture shows the existence of the VolumeSnapshotClass</p><p><img loading="lazy" src="data:image/png;base64,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" width="571" height="50" class="img_ev3q"></p></li></ol><h1>Take a VolumeSnapshot</h1><p>This section explains how to take a volume snapshot of an existing persistent volume claim (PVC).  The purpose of the volume snapshot is to backup existing contents of a stateful pod.  In this case, we are backup the data in the MySQL pod</p><ol><li><p>Run this command to get an existing PVC.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl -n wordpress get pvc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>This picture shows the existing PVC</p><p><img loading="lazy" src="/cicd_lab/assets/images/volume18-60587971105d7c3e4607010786d30cc1.png" width="602" height="95" class="img_ev3q"></p></li><li><p>Run this command to create a take-volume-snapshot.yaml file for mysql-pv-claimdemo</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: snapshot.storage.k8s.io/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: VolumeSnapshot</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">name: snapshot1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">volumeSnapshotClassName: acs-abs-snapshot-class</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">source:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    persistentVolumeClaimName: mysql-pv-claimdemo&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tee</span><span class="token plain"> take-volume-snapshot.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Run this command to apply the change</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl -n wordpress apply -f take-volume-snapshot.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Run this command to verify the successful creation of the VolumeSnapshot</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl -n wordpress get VolumeSnapshot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Observe the creation of the VolumeSnapshot</p><p><img loading="lazy" src="/cicd_lab/assets/images/volume19-8ec8ce6e6231e4a12086fa7e495bb1bf.png" width="602" height="74" class="img_ev3q"></p></li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/mat0606/cicd_lab/edit/main/docs/storage/volume_other.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/cicd_lab/storage/volume_pvc"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Consumption of Nutanix Volumes</div></a></nav></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/cicd_lab/assets/js/runtime~main.f807e0ee.js"></script>
<script src="/cicd_lab/assets/js/main.0b26c359.js"></script>
</body>
</html>